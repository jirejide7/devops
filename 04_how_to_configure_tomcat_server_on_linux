X=9
PORT=8090

sudo su
apt install -y tomcat$X tomcat$X-docs tomcat$X-examples tomcat$X-admin
cp -r /usr/share/tomcat$X-admin/* /var/lib/tomcat$X/webapps/ -v
nano /var/lib/tomcatX/conf/server.xml
<Connector port="$PORT" protocol="HTTP/1.1">
ctrl+x
y

# place before </tomcat-users>
nano /var/lib/tomcat$X/conf/tomcat-users.xml 
<role rolename="manager-gui"/>
<role rolename="manager-script"/>
<user username="$USERNAME" password="$PASSWORD" roles="manager-gui"/>
<user username="$TOMCAT_MANAGER_SCRIPT_USERNAME" password="jenkins" roles="manager-script"/>
ctrl+x
y

nano /etc/default/tomcat$X
JAVA_OPTS="-Djava.security.egd=file:/dev/./urandom"
ctrl+x
y
systemctl restart tomcat8

nano /etc/default/tomcat8
JAVA_OPTS="-Djava.security.egd=file:/dev/./urandom -Djava.awt.headless=true"
ctrl+x
y
systemctl restart tomcat8

nano /etc/default/tomcat8
JAVA_OPTS="-Djava.security.egd=file:/dev/./urandom -Djava.awt.headless=true -Xmx512m -XX:MaxPermSize=512m"
ctrl+x
y
systemctl restart tomcat$X
systemctl status tomcat$X
exit
curl localhost:$PORT
